# 技术与约束
- 保持现有栈与目录结构（client/server/shared），不要大改框架。
- 新增/修改必须同步更新 README 与 .env.example。
- 统一通过 import.meta.env.VITE_API_BASE 访问后端地址。
- 不提交真实密钥；环境变量仅走 .env 与平台面板。

# 质量
- 有类型就补类型（TS）；能加基本校验/错误提示更好。
- 新增脚本写入 package.json；保证 pnpm dev 可同时启动前后端。

# 运行与自测
- 本地必须支持：pnpm install → pnpm dev 启动 client/server。
- 自测后贴出变更清单（涉及文件、理由、注意事项）。
# 开发运行规范
- 启动或重启项目时，一律运行：
  - 网页联调：npm run dev:web
  - 小程序联调：npm run dev:miniapp
- 禁止使用 timeout/Start-Sleep + curl 做健康检查。
- 禁止使用 `taskkill /IM node.exe`；释放端口统一用 `npm run kill:ports`。
- 如果端口被占用或健康检查失败，先执行 `npm run kill:ports` 再重试。
- 修改 client 或 server 代码后无需额外命令：server 用 "tsx watch" 自动重启，Vite 自动热更新。
